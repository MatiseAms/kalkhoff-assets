// The mixin
.menu(@width: 2rem, @height: .25rem, @gutter: .5rem, @color: white, @round: 0, @transition-duration: .3s) {

  & when unit(@width) == "px"{ @width: rem(@width); }
  & when unit(@height) == "px"{ @height: rem(@height); }
  & when unit(@gutter) == "px"{ @gutter: rem(@gutter); }

  // Set margins
  @margin: @height + @gutter;
  @margin-left: @width / 2;
  @margin-top: @height / 2;

  // Set specific styles for each bar
  @top: @height + @gutter;

   // set global Variables
  @menu-height: @height !global;
  @menu-gutter: @gutter !global;
  @menu-color: @color !global;
  @menu-margin: @margin !global;
  @menu-margin-left: @margin-left !global;
  @menu-margin-top: @margin-top !global;
  @menu-top: @top !global;

  // The code for the span
  user-select: none;
  position: absolute;
  margin: @margin-top auto @margin -@margin-left;
  text-indent: -999em;
  top: 50%; left: 50%;
  cursor: pointer;

  // Set styles to bars
  &, &:before, &:after{ display: block; width: @width; height: @height; background-color: @color; transition: @transition-duration; opacity: 1;
    & when @round != 0 { border-radius: @round; }
  }
  // Bottom and top bar
  &:before, &:after{ position: absolute; content: ""; }

  // Top bar
  &:before{ top: -@top; }

  // Bottom bar
  &:after{ top: @top; }
}

.menu-close(@content) {
  &:before, &:after{ top: 0px; margin-top: (@menu-height/2) + (@menu-gutter + @menu-height); @content; }
  &{ background-color: transparent; }
  &:before{ transform: translateY(@menu-gutter + @menu-height) rotate(45deg); }
  &:after{ transform: translateY(@menu-gutter + @menu-height) rotate(-45deg); }
}
.menu-reset(@content) {
  &:before, &:after{ margin-top: 0; @content; }
  &{ background-color: @menu-color; }
  &:before{ transform: translateY(0) rotate(0deg); top: -@menu-top; }
  &:after{ transform: translateY(0) rotate(0deg); top: @menu-top;  }
}
.menu-body(@content){
	&,&:before, &:after{ @content; }
}
.menu-body-first(@content){
  &:before{ @content; }
}
.menu-body-middle(@content){
  &{ @content; }
}
.menu-body-last(@content){
  &:after{ @content; }
}

.menu-body-close(@content){
	&:before, &:after{ @content; }
}
